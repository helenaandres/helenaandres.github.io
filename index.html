<!-- index.html: Minimalistic Landing Page -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helena Andrés Terre - Welcome</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Playfair Display (for headings), Lato (for body) -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lato', sans-serif; /* Body font */
            background-color: #FDFDFD; /* Very light, almost white background */
            color: #222222; /* Very dark grey for main text */
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif; /* Headings font */
        }

        /* Button Container for Circular Layout */
        .button-circle-container {
            position: relative;
            width: 320px; /* Base size for the circle */
            height: 320px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px; /* Makes the container circular */
            background-color: rgba(220, 220, 220, 0.4); /* Light, semi-transparent grey */
            transition: all 0.4s ease-in-out;
            transform: scale(1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-top: 3rem; /* Space below chatbot */
            flex-shrink: 0; /* Prevent shrinking on smaller screens */
        }

        .button-circle-container:hover {
            transform: scale(1.1); /* Expand on hover */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        /* Individual Futuristic Buttons */
        .futuristic-button {
            position: absolute; /* Absolute positioning for circular arrangement */
            background-color: #D1D5DB; /* Light grey for buttons */
            color: #333333; /* Dark grey text */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-radius: 9999px; /* Make buttons circular */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            text-align: center;
            width: 100px; /* Fixed size for circular buttons */
            height: 100px;
            font-size: 0.9rem; /* Adjust font size for circular button */
            padding: 0.5rem; /* Adjust padding for text fit */
            font-family: 'Lato', sans-serif; /* Ensure Lato for button text */
        }
        .futuristic-button:hover {
            background-color: #E5E7EB; /* Lighter grey on hover (light up effect) */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: scale(1.05); /* Subtle growth on hover */
        }

        /* Chatbot Specific Styles */
        .chatbot-window {
            background-color: #F8F8F8; /* Light grey for chatbot box */
            border: 1px solid #E0E0E0; /* Subtle light grey border */
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05); /* Very subtle shadow */
        }
        .chatbot-history {
            background-color: #ffffff; /* White chat history background */
            border: 1px solid #E0E0E0;
        }
        .user-message {
            background-color: #F0F0F0; /* Light grey for user messages */
            color: #333333; /* Dark grey text */
        }
        .bot-message {
            background-color: #E8E8E8; /* Slightly darker light grey for bot messages */
            color: #222222; /* Dark grey text */
        }

        /* Responsive adjustments for buttons */
        @media (max-width: 640px) {
            .button-circle-container {
                width: 280px; /* Smaller circle on mobile */
                height: 280px;
            }
            .futuristic-button {
                width: 90px; /* Smaller buttons on mobile */
                height: 90px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen items-center justify-center p-4">

    <main class="flex flex-col items-center justify-center text-center flex-grow w-full max-w-4xl mx-auto">
        <!-- Welcome Message -->
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-10 leading-tight">
            <span class="uppercase text-2xl md:text-3xl font-normal tracking-wide">Welcome to</span> <br>
            <span class="text-4xl md:text-5xl font-bold text-[#444444]">Helena Andrés Terre's site</span>
        </h1>
        <p class="text-lg text-gray-700 max-w-3xl mx-auto leading-relaxed mb-12">
            I’m currently an Associate Director at UCB Pharma, where I lead innovation at the intersection of data science, medicine, and patient value. At heart, I’m a physicist and mathematician—an unapologetic science nerd—driven by curiosity, collaboration, and the joy of solving complex problems. Whether you're a fellow researcher, collaborator, recruiter, or friend, I hope this site gives you a glimpse into the values I live by, the work I love, and the people and ideas that inspire me.
        </p>

        <!-- Chatbot Window -->
        <section class="w-full max-w-2xl mx-auto p-6 rounded-lg chatbot-window mb-12">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">Ask Me Anything</h2>
            <div id="chatbot-interface" class="rounded-md p-3">
                <div id="chat-history" class="scroll-area h-48 md:h-64 overflow-y-auto p-3 rounded-md mb-4 chatbot-history text-sm">
                    <p class="text-gray-500 italic mb-2">Chatbot: Hello! How can I help you today?</p>
                </div>
                <div class="flex">
                    <input type="text" id="user-input" placeholder="Type your question here..."
                           class="flex-grow p-3 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-gray-400 text-gray-700 bg-white">
                    <button id="send-button"
                            class="bg-gray-700 text-white px-6 py-3 rounded-r-md font-semibold hover:bg-gray-800 transition-colors duration-300">
                        Send
                    </button>
                </div>
                <p id="loading-indicator" class="text-center text-gray-600 mt-2 hidden text-sm">Thinking...</p>
            </div>
        </section>

        <!-- Navigation Buttons Arranged in a Circle -->
        <section class="button-circle-container">
            <!-- Buttons are positioned dynamically with JavaScript for equal spacing -->
            <a href="skills.html" class="futuristic-button" data-angle="0">Skills & Expertise</a>
            <a href="values.html" class="futuristic-button" data-angle="72">Core Values</a>
            <a href="career.html" class="futuristic-button" data-angle="144">Career Journey</a>
            <a href="interests.html" class="futuristic-button" data-angle="216">Beyond Work</a>
            <a href="portfolio.html" class="futuristic-button" data-angle="288">Portfolio & Insights</a>
        </section>
    </main>

    <!-- JavaScript for chatbot interaction and button positioning -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const chatHistory = document.getElementById('chat-history');
            const loadingIndicator = document.getElementById('loading-indicator');
            const buttonContainer = document.querySelector('.button-circle-container');
            const buttons = document.querySelectorAll('.futuristic-button');

            // IMPORTANT: Replace this with the actual URL of your deployed serverless function!
            const CHATBOT_API_URL = 'https://helena-chatbot-api.vercel.app/api/chatbot'; // <<< REPLACE THIS WITH YOUR ACTUAL DEPLOYED URL

            // Function to position buttons in a circle
            function positionButtons() {
                // Ensure container and buttons are rendered before calculating dimensions
                if (!buttonContainer || buttons.length === 0) return;

                const containerWidth = buttonContainer.offsetWidth;
                // Calculate radius from center of container to center of button
                // Subtract half of button width and a small padding to ensure buttons are on the perimeter, not overlapping
                const buttonWidth = buttons[0].offsetWidth;
                const radius = (containerWidth / 2) - (buttonWidth / 2) - 10; // 10px padding from edge

                const centerX = containerWidth / 2;
                const centerY = containerWidth / 2;

                buttons.forEach(button => {
                    const angle = parseFloat(button.dataset.angle); // Get angle from data-angle attribute
                    const angleRad = (angle - 90) * (Math.PI / 180); // Convert to radians, adjust for 0deg at top

                    // Calculate position for the center of the button
                    const x = centerX + radius * Math.cos(angleRad) - (buttonWidth / 2);
                    const y = centerY + radius * Math.sin(angleRad) - (button.offsetHeight / 2);

                    button.style.left = `${x}px`;
                    button.style.top = `${y}px`;
                });
            }

            // Initial positioning and re-position on resize
            positionButtons();
            window.addEventListener('resize', positionButtons);

            // Chatbot functionality
            sendButton.addEventListener('click', sendMessage);
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            async function sendMessage() {
                const message = userInput.value.trim();
                if (message === '') return;

                const userMessageDiv = document.createElement('div');
                userMessageDiv.className = 'text-right mb-2';
                userMessageDiv.innerHTML = `<span class="user-message p-2 rounded-lg inline-block max-w-xs md:max-w-md">${message}</span>`;
                chatHistory.appendChild(userMessageDiv);

                userInput.value = '';
                chatHistory.scrollTop = chatHistory.scrollHeight;

                loadingIndicator.classList.remove('hidden');

                try {
                    const response = await fetch(CHATBOT_API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ message: message })
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    const botResponse = data.reply;

                    const botResponseDiv = document.createElement('div');
                    botResponseDiv.className = 'text-left mb-2';
                    botResponseDiv.innerHTML = `<span class="bot-message p-2 rounded-lg inline-block max-w-xs md:max-w-md">${botResponse}</span>`;
                    chatHistory.appendChild(botResponseDiv);

                } catch (error) {
                    console.error('Error fetching chatbot response:', error);
                    const errorMessageDiv = document.createElement('div');
                    errorMessageDiv.className = 'text-left mb-2';
                    errorMessageDiv.innerHTML = `<span class="bg-red-100 text-red-800 p-2 rounded-lg inline-block max-w-xs md:max-w-md">
                        Sorry, there was an error connecting to the chatbot. Please try again later.
                    </span>`;
                    chatHistory.appendChild(errorMessageDiv);
                } finally {
                    loadingIndicator.classList.add('hidden');
                    chatHistory.scrollTop = chatHistory.scrollHeight;
                }
            }
        });
    </script>
</body>
</html>
